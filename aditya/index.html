<html ng-app="two1App">
<head>
	<meta name="fragment" content="!" />
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.4/angular.min.js"></script>
	<script src="js/app.js"></script>
	<script src="js/controllers.js"></script>
	<script src="js/directives.js"></script>
	<script>
		app.directive('spy', function() {
		  return {
		    restrict: "A",
		    require: "^scrollSpy",
		    link: function(scope, elem, attrs, affix) {
		      return affix.addSpy({
		        id: attrs.spy,
		        "in": function() {
		          return elem.addClass('current');
		        },
		        out: function() {
		          return elem.removeClass('current');
		        }
		      });
		    }
		  };
		});
	</script>
</head>
<body>
<div ng-controller="PostsController">
	<p>    Click <a ng-click="loadPosts()">here</a> to load data.</p>
	<div ng-repeat="post in posts" scroll-load="changeUrl('{{post.slug}}')" id="{{slug}}">
		<h1><a href="/{{post.slug}}">{{post.slug}}</a></h1>
		<div>{{post.content}}</div>
	</div>
</div>
</body>
</html>